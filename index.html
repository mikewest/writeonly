<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Write-only Form Elements</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em 0;
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: normal;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version af155f2e5c3bb772c32f7c8fe6857fd648994d60" name="generator">
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "¶"; }
            .heading > a.self-link::before { content: "§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "‘";
            }
            .css::after, .property::after, .descriptor::after {
                content: "’";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "‘";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "’";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
        .highlight:not(.idl) { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        .highlight .c { color: #708090 } /* Comment */
        .highlight .k { color: #990055 } /* Keyword */
        .highlight .l { color: #000000 } /* Literal */
        .highlight .n { color: #0077aa } /* Name */
        .highlight .o { color: #999999 } /* Operator */
        .highlight .p { color: #999999 } /* Punctuation */
        .highlight .cm { color: #708090 } /* Comment.Multiline */
        .highlight .cp { color: #708090 } /* Comment.Preproc */
        .highlight .c1 { color: #708090 } /* Comment.Single */
        .highlight .cs { color: #708090 } /* Comment.Special */
        .highlight .kc { color: #990055 } /* Keyword.Constant */
        .highlight .kd { color: #990055 } /* Keyword.Declaration */
        .highlight .kn { color: #990055 } /* Keyword.Namespace */
        .highlight .kp { color: #990055 } /* Keyword.Pseudo */
        .highlight .kr { color: #990055 } /* Keyword.Reserved */
        .highlight .kt { color: #990055 } /* Keyword.Type */
        .highlight .ld { color: #000000 } /* Literal.Date */
        .highlight .m { color: #000000 } /* Literal.Number */
        .highlight .s { color: #a67f59 } /* Literal.String */
        .highlight .na { color: #0077aa } /* Name.Attribute */
        .highlight .nc { color: #0077aa } /* Name.Class */
        .highlight .no { color: #0077aa } /* Name.Constant */
        .highlight .nd { color: #0077aa } /* Name.Decorator */
        .highlight .ni { color: #0077aa } /* Name.Entity */
        .highlight .ne { color: #0077aa } /* Name.Exception */
        .highlight .nf { color: #0077aa } /* Name.Function */
        .highlight .nl { color: #0077aa } /* Name.Label */
        .highlight .nn { color: #0077aa } /* Name.Namespace */
        .highlight .py { color: #0077aa } /* Name.Property */
        .highlight .nt { color: #669900 } /* Name.Tag */
        .highlight .nv { color: #222222 } /* Name.Variable */
        .highlight .ow { color: #999999 } /* Operator.Word */
        .highlight .mb { color: #000000 } /* Literal.Number.Bin */
        .highlight .mf { color: #000000 } /* Literal.Number.Float */
        .highlight .mh { color: #000000 } /* Literal.Number.Hex */
        .highlight .mi { color: #000000 } /* Literal.Number.Integer */
        .highlight .mo { color: #000000 } /* Literal.Number.Oct */
        .highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
        .highlight .sc { color: #a67f59 } /* Literal.String.Char */
        .highlight .sd { color: #a67f59 } /* Literal.String.Doc */
        .highlight .s2 { color: #a67f59 } /* Literal.String.Double */
        .highlight .se { color: #a67f59 } /* Literal.String.Escape */
        .highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
        .highlight .si { color: #a67f59 } /* Literal.String.Interpol */
        .highlight .sx { color: #a67f59 } /* Literal.String.Other */
        .highlight .sr { color: #a67f59 } /* Literal.String.Regex */
        .highlight .s1 { color: #a67f59 } /* Literal.String.Single */
        .highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
        .highlight .vc { color: #0077aa } /* Name.Variable.Class */
        .highlight .vg { color: #0077aa } /* Name.Variable.Global */
        .highlight .vi { color: #0077aa } /* Name.Variable.Instance */
        .highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        </style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1>Write-only Form Elements</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">A Collection of Interesting Ideas, <time class="dt-updated" datetime="2016-12-22">22 December 2016</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://mikewest.github.io/writeonly/">https://mikewest.github.io/writeonly/</a>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:mkwst@google.com">Mike West</a> (<span class="p-org org">Google Inc.</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"> ©2016 Google </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This specification describes how a website can ask a user agent to deny

read access to form elements, which can mitigate the risk of credential
leakage via cross-site scripting attacks.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li>
       <a href="#intro-examples"><span class="secno">1.1</span> <span class="content">Examples</span></a>
       <ol class="toc">
        <li><a href="#intro-examples-sign-in"><span class="secno">1.1.1</span> <span class="content">Sign-in Form</span></a>
        <li><a href="#intro-examples-csp"><span class="secno">1.1.2</span> <span class="content">Content Security Policy</span></a>
       </ol>
     </ol>
    <li>
     <a href="#prevent-dom-access"><span class="secno">2</span> <span class="content">Preventing DOM access to form fields</span></a>
     <ol class="toc">
      <li>
       <a href="#writeonly-attribute"><span class="secno">2.1</span> <span class="content">The <code>writeonly</code> attribute</span></a>
       <ol class="toc">
        <li>
         <a href="#writeonly-idl"><span class="secno">2.1.1</span> <span class="content"><code>writeonly</code> IDL</span></a>
         <ol class="toc">
          <li><a href="#htmlformelement"><span class="secno">2.1.1.1</span> <span class="content">HTMLFormElement</span></a>
          <li><a href="#htmlinputelement"><span class="secno">2.1.1.2</span> <span class="content">HTMLInputElement</span></a>
          <li><a href="#htmlselectelement"><span class="secno">2.1.1.3</span> <span class="content">HTMLSelectElement</span></a>
          <li><a href="#htmltextareaelement"><span class="secno">2.1.1.4</span> <span class="content">HTMLTextareaElement</span></a>
         </ol>
       </ol>
      <li><a href="#form-writeonly-directive"><span class="secno">2.2</span> <span class="content">The <code>form-writeonly</code> Content Security Policy directive</span></a>
      <li><a href="#element-behavior"><span class="secno">2.3</span> <span class="content"><code>&amp;lt;input&amp;gt;</code> element behavior</span></a>
      <li>
       <a href="#opaque-formdata"><span class="secno">2.4</span> <span class="content">Opaque <code>FormData</code> objects</span></a>
       <ol class="toc">
        <li>
         <a href="#opaque-formdata-algorithms"><span class="secno">2.4.1</span> <span class="content"> Algorithm Modifications </span></a>
         <ol class="toc">
          <li><a href="#xhr-formdata-constructor"><span class="secno">2.4.1.1</span> <span class="content">XHR: <code>FormData</code> constructor</span></a>
          <li><a href="#xhr-formdatas-get"><span class="secno">2.4.1.2</span> <span class="content">XHR: <code>FormData</code>’s <code>get()</code></span></a>
          <li><a href="#xhr-formdatas-getall"><span class="secno">2.4.1.3</span> <span class="content">XHR: <code>FormData</code>’s <code>getAll()</code></span></a>
          <li><a href="#fetch-request-objects"><span class="secno">2.4.1.4</span> <span class="content">Fetch: <code>Request</code> objects</span></a>
          <li><a href="#fetch-requests-constructor"><span class="secno">2.4.1.5</span> <span class="content">Fetch: <code>Request</code>’s constructor</span></a>
          <li><a href="#fetch-bodys-consume-body"><span class="secno">2.4.1.6</span> <span class="content">Fetch: <code>Body</code>’s <code>consume body</code></span></a>
          <li><a href="#fetch-extract-a-byte-stream"><span class="secno">2.4.1.7</span> <span class="content">Fetch: Extract a byte stream</span></a>
          <li><a href="#service-worker-handle-a-fetch"><span class="secno">2.4.1.8</span> <span class="content">Service Worker: Handle a Fetch</span></a>
         </ol>
       </ol>
     </ol>
    <li>
     <a href="#security-considerations"><span class="secno">3</span> <span class="content">Security and Privacy Considerations</span></a>
     <ol class="toc">
      <li><a href="#renderer-sandboxing"><span class="secno">3.1</span> <span class="content">Sandboxing autofilled credential access</span></a>
     </ol>
    <li><a href="#authoring-considerations"><span class="secno">4</span> <span class="content">Authoring Considerations</span></a>
    <li><a href="#ack"><span class="secno">5</span> <span class="content">Acknowledgements</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <section>
    <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
    <p><em>This section is not normative.</em></p>
    <p>A user’s credentials are valuable, and are often the key target of phishing
  and content injection attacks.</p>
    <p>Users can defend themselves from the former threat by using a credential
  manager which enables the generation of strong, unique passwords for all the
  sites they visit, and which only provides those credentials to the website
  they’re tied to. If a user relies on a credential manager to keep track of her
  passwords, and the credential manager refuses to fill them into forms on
  unexpected origins, phishing becomes significantly more difficult.</p>
    <p>Content injection, on the other hand, can turn the credential manager against
  the user, as demonstrated in "Automated Password Extraction Attack on Modern
  Password Managers" <a data-link-type="biblio" href="#biblio-lupin">[LUPIN]</a>. If an attacker can inject a form into a website
  and the credential manager can be tricked into filling it, the user’s
  credentials will be available to the attacker directly via DOM APIs or
  indirectly via form submission to a malicious endpoint. The latter risk can be
  mitigated via the Content Security Policy <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#form-action"><code>form-action</code></a> directive <a data-link-type="biblio" href="#biblio-csp3">[CSP3]</a>, but the former is a real problem. If passwords are a simple "value"
  accessor away, users are at risk.</p>
    <p>It is tempting to simply block read access to password fields, but many
  websites do interesting things with password fields. They increasingly read
  credential values in order to sign a user in via XMLHttpRequest, for instance,
  rather than submitting a form. A blanket restriction is therefore unlikely to
  be web-compatible.</p>
    <p>Instead, this document proposes an opt-in mechanism by which a website can
  choose to deny itself read access to the values of particular form fields.
  User agents could (and should!) allow credential managers to help users
  sign-in by <em>writing</em> values into form fields, but those values would
  remain opaque to the website’s JavaScript.</p>
    <h3 class="heading settled" data-level="1.1" id="intro-examples"><span class="secno">1.1. </span><span class="content">Examples</span><a class="self-link" href="#intro-examples"></a></h3>
    <h4 class="heading settled" data-level="1.1.1" id="intro-examples-sign-in"><span class="secno">1.1.1. </span><span class="content">Sign-in Form</span><a class="self-link" href="#intro-examples-sign-in"></a></h4>
    <div class="example" id="example-6a7eadb7">
     <a class="self-link" href="#example-6a7eadb7"></a> 
<pre>&lt;form action="/signin-endpoint" method="POST">
  &lt;input type="text"
         autocomplete="username"
         name="username">
  &lt;input type="password"
         <strong><a data-link-type="element-attr" href="#element-attrdef-input-writeonly" id="ref-for-element-attrdef-input-writeonly-1">writeonly</a></strong>
         autocomplete="current-password"
         name="password">
  &lt;input type="submit">
&lt;/form>
</pre>
    </div>
    <h4 class="heading settled" data-level="1.1.2" id="intro-examples-csp"><span class="secno">1.1.2. </span><span class="content">Content Security Policy</span><a class="self-link" href="#intro-examples-csp"></a></h4>
    <div class="example" id="example-ac2af0ba">
     <a class="self-link" href="#example-ac2af0ba"></a> 
<pre>Content-Security-Policy: <a data-link-type="dfn" href="#form-writeonly" id="ref-for-form-writeonly-1">form-writeonly</a> current-password new-password;
</pre>
     <p class="note" role="note">Note: A real page’s policy should also include <a href="https://w3c.github.io/webappsec/specs/content-security-policy/#directive-form-action">form-action</a> and <a href="https://w3c.github.io/webappsec/specs/content-security-policy/#directive-connect-src">connect-src</a> directives to mitigate the risk of exfiltration.</p>
    </div>
   </section>
   <section>
    <h2 class="heading settled" data-level="2" id="prevent-dom-access"><span class="secno">2. </span><span class="content">Preventing DOM access to form fields</span><a class="self-link" href="#prevent-dom-access"></a></h2>
    <p>Developers may opt-into preventing DOM access to form fields by setting a <a data-link-type="element-attr" href="#element-attrdef-input-writeonly" id="ref-for-element-attrdef-input-writeonly-2"><code>writeonly</code></a> attribute on specific <a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a> or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/forms.html#form-associated-element">form-associated elements</a>, or by using the <a data-link-type="dfn" href="#form-writeonly" id="ref-for-form-writeonly-2"><code>form-writeonly</code></a> Content Security Policy directive to
  prevent DOM access to any and all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/forms.html#form-associated-element">form-associated elements</a> based on
  their <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/forms.html#attr-form-autocomplete"><code>autocomplete</code></a> attributes. Both mechanisms are
  described below:</p>
    <h3 class="heading settled" data-level="2.1" id="writeonly-attribute"><span class="secno">2.1. </span><span class="content">The <code>writeonly</code> attribute</span><a class="self-link" href="#writeonly-attribute"></a></h3>
    <p><code>writeonly</code> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attribute">boolean attribute</a> present on <dfn class="dfn-paneled" data-dfn-for="form" data-dfn-type="element-attr" data-export="" data-lt="writeonly" id="element-attrdef-form-writeonly">form</dfn>, <dfn class="dfn-paneled" data-dfn-for="input" data-dfn-type="element-attr" data-export="" data-lt="writeonly" id="element-attrdef-input-writeonly">input</dfn>, <dfn class="dfn-paneled" data-dfn-for="select" data-dfn-type="element-attr" data-export="" data-lt="writeonly" id="element-attrdef-select-writeonly">select</dfn>, and <dfn class="dfn-paneled" data-dfn-for="textarea" data-dfn-type="element-attr" data-export="" data-lt="writeonly" id="element-attrdef-textarea-writeonly">textarea</dfn> elements that controls
  whether or not an element’s value may be read directly via the <code>value</code> IDL attribute or content
  attribute, or inferred by <a data-link-type="dfn">statically validating the
  constraints</a> of a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a></code>. The attribute’s formal definitions are below, in <a href="#writeonly-idl">§2.1.1 writeonly IDL</a>.</p>
    <p>At a high level:</p>
    <ol>
     <li data-md="">
      <p>Adding the <code>writeonly</code> attribute to an element will set that element’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="write-only value flag" data-noexport="" id="write-only-value-flag">write-only value
  flag</dfn>.</p>
     <li data-md="">
      <p>If a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a></code>'s <code>writeonly</code> attribute is set, then set the <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-1">write-only value flag</a> for
  all <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a></code>, and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a></code> elements <a data-link-type="dfn">associated</a> with that form.</p>
     <li data-md="">
      <p>If an element’s <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-2">write-only value flag</a> is set, then JavaScript access to the element’s
  value is blocked in a number of ways, spelled out in <a href="#element-behavior">§2.3 &amp;lt;input&amp;gt; element behavior</a> and <a href="#opaque-formdata">§2.4 Opaque FormData objects</a>.</p>
    </ol>
    <p class="note" role="note">Note: Removing the <code>writeonly</code> attribute from an element will not clear any <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-3">write-only value
  flags</a> which may have been set. Once that flag is set for an element, it cannot be cleared.</p>
    <h4 class="heading settled" data-level="2.1.1" id="writeonly-idl"><span class="secno">2.1.1. </span><span class="content"><code>writeonly</code> IDL</span><a class="self-link" href="#writeonly-idl"></a></h4>
    <h5 class="heading settled" data-level="2.1.1.1" id="htmlformelement"><span class="secno">2.1.1.1. </span><span class="content">HTMLFormElement</span><a class="self-link" href="#htmlformelement"></a></h5>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlformelement">HTMLFormElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlformelement-writeonly" id="ref-for-dom-htmlformelement-writeonly-1">writeonly</a>;
};
</pre>
    <dl>
     <dt data-md="">
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFormElement" data-dfn-type="attribute" data-export="" id="dom-htmlformelement-writeonly">writeonly</dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span></p>
     <p></p>
     <dd data-md="">
      <p>This IDL attribute <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-reflect">reflects</a> the value of the element’s <code><a data-link-type="element-sub" href="#element-attrdef-form-writeonly" id="ref-for-element-attrdef-form-writeonly-1">writeonly</a></code> content
  attribute.</p>
    </dl>
    <h5 class="heading settled" data-level="2.1.1.2" id="htmlinputelement"><span class="secno">2.1.1.2. </span><span class="content">HTMLInputElement</span><a class="self-link" href="#htmlinputelement"></a></h5>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlinputelement">HTMLInputElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlinputelement-writeonly" id="ref-for-dom-htmlinputelement-writeonly-1">writeonly</a>;
};
</pre>
    <dl>
     <dt data-md="">
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLInputElement" data-dfn-type="attribute" data-export="" id="dom-htmlinputelement-writeonly">writeonly</dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span></p>
     <p></p>
     <dd data-md="">
      <p>This IDL attribute <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-reflect">reflects</a> the value of the element’s <code><a data-link-type="element-sub" href="#element-attrdef-input-writeonly" id="ref-for-element-attrdef-input-writeonly-3">writeonly</a></code> content
  attribute.</p>
    </dl>
    <h5 class="heading settled" data-level="2.1.1.3" id="htmlselectelement"><span class="secno">2.1.1.3. </span><span class="content">HTMLSelectElement</span><a class="self-link" href="#htmlselectelement"></a></h5>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlselectelement">HTMLSelectElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlselectelement-writeonly" id="ref-for-dom-htmlselectelement-writeonly-1">writeonly</a>;
};
</pre>
    <dl>
     <dt data-md="">
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLSelectElement" data-dfn-type="attribute" data-export="" id="dom-htmlselectelement-writeonly">writeonly</dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span></p>
     <p></p>
     <dd data-md="">
      <p>This IDL attribute <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-reflect">reflects</a> the value of the element’s <code><a data-link-type="element-sub" href="#element-attrdef-select-writeonly" id="ref-for-element-attrdef-select-writeonly-1">writeonly</a></code> content
  attribute.</p>
    </dl>
    <h5 class="heading settled" data-level="2.1.1.4" id="htmltextareaelement"><span class="secno">2.1.1.4. </span><span class="content">HTMLTextareaElement</span><a class="self-link" href="#htmltextareaelement"></a></h5>
<pre class="idl highlight def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface">HTMLTextareaElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmltextareaelement-writeonly" id="ref-for-dom-htmltextareaelement-writeonly-1">writeonly</a>;
};
</pre>
    <dl>
     <dt data-md="">
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLTextareaElement" data-dfn-type="attribute" data-export="" id="dom-htmltextareaelement-writeonly">writeonly</dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-boolean">boolean</a></span></p>
     <p></p>
     <dd data-md="">
      <p>This IDL attribute <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-reflect">reflects</a> the value of the element’s <code><a data-link-type="element-sub" href="#element-attrdef-textarea-writeonly" id="ref-for-element-attrdef-textarea-writeonly-1">writeonly</a></code> content
  attribute.</p>
    </dl>
    <h3 class="heading settled" data-level="2.2" id="form-writeonly-directive"><span class="secno">2.2. </span><span class="content">The <code>form-writeonly</code> Content Security Policy directive</span><a class="self-link" href="#form-writeonly-directive"></a></h3>
    <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="form-writeonly"><code>form-writeonly</code></dfn> directive specifies a policy which affects how the user agent
  interprets elements with <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/forms.html#attr-form-autocomplete"><code>autocomplete</code></a> attributes in a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>. The syntax
  for the name and value of the directive are described by the following ABNF grammar <a data-link-type="biblio" href="#biblio-abnf">[ABNF]</a>:</p>
<pre>directive-name  = "form-writeonly"
directive-value = "" / *WSP [ <a data-link-type="dfn" href="#autocomplete-token" id="ref-for-autocomplete-token-1">autocomplete-token</a> *[ 1*WSP <a data-link-type="dfn" href="#autocomplete-token" id="ref-for-autocomplete-token-2">autocomplete-token</a> ] *WSP ]
<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="autocomplete-token">autocomplete-token</dfn> = &lt;any valid <a data-link-type="dfn">autofill detail tokens</a>>
</pre>
    <div class="algorithm" data-algorithm="form-writeonly initialization">
      The directive’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directive-initialization">initialization</a> algorithm sets a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>'s <dfn class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-noexport="" id="document-forced-write-only-types">forced write-only types</dfn> (which has an initial value of the empty list)
    as follows: 
     <p>Given a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code> or <a data-link-type="dfn" href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-global-object">global object</a> (<var>context</var>), a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a> (<var>response</var>), and
    a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#violation-policy">policy</a> (<var>policy</var>):</p>
     <ol>
      <li data-md="">
       <p class="assertion">Assert: <var>response</var> is unused.</p>
      <li data-md="">
       <p>If <var>policy</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#policy-disposition">disposition</a>is not "<code>enforce</code>", or <var>context</var> is not a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>, return.</p>
      <li data-md="">
       <p>If this <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directives">directive</a>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directive-value">value</a> is empty, set <var>context</var>’s <a data-link-type="dfn" href="#document-forced-write-only-types" id="ref-for-document-forced-write-only-types-1">forced write-only types</a> to « "<code>*</code>" ».</p>
       <p>Otherwise, set <var>context</var>’s <a data-link-type="dfn" href="#document-forced-write-only-types" id="ref-for-document-forced-write-only-types-2">forced write-only types</a> to this <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directives">directive</a>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directive-value">value</a>.</p>
     </ol>
    </div>
    <h3 class="heading settled" data-level="2.3" id="element-behavior"><span class="secno">2.3. </span><span class="content"><code>&amp;lt;input&amp;gt;</code> element behavior</span><a class="self-link" href="#element-behavior"></a></h3>
    <p class="issue" id="issue-f871e681"><a class="self-link" href="#issue-f871e681"></a> Expand this to include <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a></code>, and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a></code>.</p>
    <p>If an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code> element (<var>input</var>)'s <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-4">write-only value flag</a> is set, <var>input</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>'s <a data-link-type="dfn" href="#document-forced-write-only-types" id="ref-for-document-forced-write-only-types-3">forced write-only types</a> is « "<code>*</code>" », or if <var>input</var>’s <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/forms.html#attr-form-autocomplete">autocomplete</a> attribute contains one or more values which are also <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain">contained</a> in <var>input</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a></code>'s <a data-link-type="dfn" href="#document-forced-write-only-types" id="ref-for-document-forced-write-only-types-4">forced write-only types</a>, then the following restrictions apply:</p>
    <ol>
     <li data-md="">
      <p>When setting <var>input</var>’s <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/forms.html#dom-form-autocomplete"><code>autocomplete</code></a> IDL attribute, <var>input</var>’s <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-5">write-only value flag</a> MUST also be set.</p>
      <p class="note" role="note">Note: This prevents attackers from bypassing the CSP directive by changing the element’s <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/forms.html#attr-form-autocomplete">autocomplete</a> value from <code>current-password</code> to something unprotected (like <code>section-fake</code>).</p>
     <li data-md="">
      <p>The getters for <var>input</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-value">value</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasnumber">valueAsNumber</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasdate">valueAsDate</a></code>, <code class="idl"><a data-link-type="idl">selectionStart</a></code>, and <code class="idl"><a data-link-type="idl">selectionEnd</a></code> IDL attributes will throw an <a data-link-type="dfn"><code>InvalidStateError</code></a>.</p>
      <p class="note" role="note">Note: Setting these attributes is unaffected.</p>
     <li data-md="">
      <p><var>input</var> is considered <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/forms.html#barred-from-constraint-validation">barred from
  constraint validation</a>.</p>
     <li data-md="">
      <p>The user agent MUST NOT fire <a data-link-type="dfn"><code>keydown</code></a>, <a data-link-type="dfn"><code>keyup</code></a>, or <a data-link-type="dfn"><code>keypress</code></a> events on <var>input</var>.</p>
     <li data-md="">
      <p><code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata">FormData</a></code> objects constructed from the form which contains <var>input</var> are opaque, as
  described in <a href="#opaque-formdata">§2.4 Opaque FormData objects</a></p>
    </ol>
    <p class="issue" id="issue-eedb26e3"><a class="self-link" href="#issue-eedb26e3"></a> Is this more or less exhaustive? I’m sure I’m missing some clever ways
  of reading the value.</p>
    <h3 class="heading settled" data-level="2.4" id="opaque-formdata"><span class="secno">2.4. </span><span class="content">Opaque <code>FormData</code> objects</span><a class="self-link" href="#opaque-formdata"></a></h3>
    <p><code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata">FormData</a></code> objects have a <dfn class="dfn-paneled" data-dfn-for="FormData" data-dfn-type="dfn" data-noexport="" id="formdata-opaque-flag">opaque flag</dfn>, unset by default, and set only
  if the object is constructed from a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a></code> containing one or more <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code> elements whose <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-6">write-only value flag</a> is set. Opaque <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata">FormData</a></code> objects return <code>null</code> and the empty
  sequence when their <code class="idl"><a data-link-type="idl">get()</a></code> and <code class="idl"><a data-link-type="idl">getAll()</a></code> methods are executed,
  respectively. Further, data from opaque <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata">FormData</a></code> objects can only be <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-bodyinit-extract">extracted</a> in the context of executing <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#xmlhttprequest">XMLHttpRequest</a></code>'s <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-xmlhttprequest-send">send()</a></code> method.</p>
    <p class="issue" id="issue-0fde8294"><a class="self-link" href="#issue-0fde8294"></a> Or <code>fetch()</code>, presumably? Wonder what I was thinking here...</p>
    <p>Opaque <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#formdata">FormData</a></code> objects have the following properties:</p>
    <ol>
     <li> Whenever the user agent would execute an opaque <code>FormData</code> object’s <a href="http://xhr.spec.whatwg.org/#dom-formdata-get"><code>get()</code></a> method, it MUST return <code>null</code>. 
     <li> Whenever the user agent would execute an opaque <code>FormData</code> object’s <a href="http://xhr.spec.whatwg.org/#dom-formdata-getall"><code>getAll()</code></a> method, it MUST return the empty sequence. 
     <li>
       Whenever the user agent would <a href="http://fetch.spec.whatwg.org/#concept-fetchbodyinit-extract">extract a byte stream and <code>Content-Type</code></a> from an opaque <code>FormData</code> object <var>formdata</var>, first
      the following steps: 
      <ol>
       <li> If the extraction algorithm is being executed in the context of <a href="http://xhr.spec.whatwg.org/#dom-xmlhttprequest-send">XMLHttpRequest’s <code>send()</code> method</a>, <a href="http://fetch.spec.whatwg.org/#dom-request">Fetch’s <code>Request</code> constructor</a>,
          or <a href="http://fetch.spec.whatwg.org/#dom-response">Fetch’s <code>Response</code> constructor</a> then skip the next step and proceed executing the algorithm. 
       <li> Otherwise, abort the extraction algorithm and return the result of
          executing the <a href="http://fetch.spec.whatwg.org/#concept-fetchbodyinit-extract">extract a byte stream and <code>Content-Type</code></a> algorithm on a new (empty) <code>FormData</code> object. 
      </ol>
     <li> ISSUE: Determine the right spec text to impart the following: When a request
      is handed off to Fetch, mark it as opaque if its' body is populated from an
      opaque FormData object, or if it is the result of a form submission with
      opaque contents. 
    </ol>
    <h4 class="heading settled" data-level="2.4.1" id="opaque-formdata-algorithms"><span class="secno">2.4.1. </span><span class="content"> Algorithm Modifications </span><a class="self-link" href="#opaque-formdata-algorithms"></a></h4>
    <p class="issue" id="issue-f5b10335"><a class="self-link" href="#issue-f5b10335"></a> Monkey-patching! Hooray! Though, of course, that’s pretty much this
  whole strawman...</p>
    <h5 class="heading settled" data-level="2.4.1.1" id="xhr-formdata-constructor"><span class="secno">2.4.1.1. </span><span class="content">XHR: <code>FormData</code> constructor</span><a class="self-link" href="#xhr-formdata-constructor"></a></h5>
    <p>Insert the following steps before step 3 of <a href="http://xhr.spec.whatwg.org/#dom-formdata">the <code>FormData</code> constructor’s algorithm</a>:</p>
    <ol start="3">
     <li> Unset <var>fd</var>’s <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-1">opaque flag</a>. 
     <li>
       If <var>form</var> is given, then: 
      <ol>
       <li> Let <var>controls</var> be a list of all the submittable elements
          whose form owner is <var>form</var>. 
       <li>
         For each element <var>field</var> in <var>controls</var>: 
        <ol>
         <li> If <var>field</var>’s <a data-link-type="dfn" href="#write-only-value-flag" id="ref-for-write-only-value-flag-7">write-only value flag</a> is <code>true</code>, then set <var>fd</var>’s <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-2">opaque flag</a>. 
        </ol>
      </ol>
      <h5 class="heading settled" data-level="2.4.1.2" id="xhr-formdatas-get"><span class="secno">2.4.1.2. </span><span class="content">XHR: <code>FormData</code>’s <code>get()</code></span><a class="self-link" href="#xhr-formdatas-get"></a></h5>
      <p>Redefine <code>FormData</code>’s <a href="http://xhr.spec.whatwg.org/#dom-formdata-get"><code>get()</code></a> method as follows:</p>
      <ol>
       <li>If the <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-3">opaque flag</a> is set, return <code>null</code>.
       <li> Otherwise, return the <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry-value">value</a> of the first <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry">entry</a> whose <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry-name">name</a> is <var>name</var>, and <code>null</code> if no such <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry">entry</a> exists. 
      </ol>
      <h5 class="heading settled" data-level="2.4.1.3" id="xhr-formdatas-getall"><span class="secno">2.4.1.3. </span><span class="content">XHR: <code>FormData</code>’s <code>getAll()</code></span><a class="self-link" href="#xhr-formdatas-getall"></a></h5>
      <p>Redefine <code>FormData</code>’s <a href="http://xhr.spec.whatwg.org/#dom-formdata-getall"><code>getAll()</code></a> method as follows:</p>
      <ol>
       <li>If the <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-4">opaque flag</a> is set, return the empty sequence.
       <li> Otherwise, return the <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry-value">values</a> of all <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry">entries</a> whose <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry-name">name</a> is <var>name</var>, in list order, and the empty sequence if no such <a href="http://xhr.spec.whatwg.org/#concept-formdata-entry">entry</a> exists. 
      </ol>
      <h5 class="heading settled" data-level="2.4.1.4" id="fetch-request-objects"><span class="secno">2.4.1.4. </span><span class="content">Fetch: <code>Request</code> objects</span><a class="self-link" href="#fetch-request-objects"></a></h5>
      <p>Add a new <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="opaque-request-flag">opaque request flag</dfn> to <a href="http://fetch.spec.whatwg.org/#request-class">Fetch’s <code>Request</code> objects</a>.
  This flag is unset unless otherwise specified.</p>
      <h5 class="heading settled" data-level="2.4.1.5" id="fetch-requests-constructor"><span class="secno">2.4.1.5. </span><span class="content">Fetch: <code>Request</code>’s constructor</span><a class="self-link" href="#fetch-requests-constructor"></a></h5>
      <p>Add the following step after step 3 of step 17 of <a href="http://fetch.spec.whatwg.org/#dom-request">Fetch’s <code>Request</code> constructor</a>:</p>
      <ol>
       <li> If <var>init</var>’s <code>body</code> member is a <code>FormData</code> object whose <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-5">opaque flag</a> is set, set <var>r</var>’s <strong>opaque
      flag</strong>. 
      </ol>
      <h5 class="heading settled" data-level="2.4.1.6" id="fetch-bodys-consume-body"><span class="secno">2.4.1.6. </span><span class="content">Fetch: <code>Body</code>’s <code>consume body</code></span><a class="self-link" href="#fetch-bodys-consume-body"></a></h5>
      <p>Insert the following step after step 2 of step 3 of <a href="http://fetch.spec.whatwg.org/#concept-body-consume-body"><code>Body</code>’s <code>as generic</code></a> algorithm:</p>
      <ol start="3">
       <li> If <var>object</var>’s <a data-link-type="dfn" href="#opaque-request-flag" id="ref-for-opaque-request-flag-1">opaque request flag</a> is set, set <var>stream</var> to an empty byte sequence. 
      </ol>
      <h5 class="heading settled" data-level="2.4.1.7" id="fetch-extract-a-byte-stream"><span class="secno">2.4.1.7. </span><span class="content">Fetch: Extract a byte stream</span><a class="self-link" href="#fetch-extract-a-byte-stream"></a></h5>
      <p>Redefine the <code>FormData</code> case of Fetch’s <a href="http://fetch.spec.whatwg.org/#concept-fetchbodyinit-extract">extract a byte stream and <code>Content-Type</code></a> algorithm as follows:</p>
      <ol>
       <li>
         If <var>object</var>’s <a data-link-type="dfn" href="#formdata-opaque-flag" id="ref-for-formdata-opaque-flag-6">opaque flag</a> is <strong>not</strong> set,
      or if the extraction algorithm is being executed in the context of <a href="http://xhr.spec.whatwg.org/#dom-xmlhttprequest-send">XMLHttpRequest’s <code>send()</code> method</a> or <a href="http://fetch.spec.whatwg.org/#dom-request">Fetch’s <code>Request</code> constructor</a> 
        <p>then:</p>
        <ol>
         <li> Push the result of running the multipart/form-data encoding algorithm, with object as form data set and with utf-8 as the explicit character encoding, to stream. 
         <li> Set Content-Type to <code>multipart/form-data;boundary=</code>, followed by the multipart/form-data boundary string generated by the multipart/form-data encoding algorithm. 
        </ol>
       <li>
         Otherwise, set <var>Content-Type</var> to <code>text/plain;charset=UTF-8</code>. 
        <p class="note" role="note">Note: In this case (e.g. <var>object</var> is opaque
      and the algorithm isn’t being executed as a result of <code>XHR.send()</code>), <var>stream</var> will remain an empty byte
      stream.</p>
      </ol>
      <h5 class="heading settled" data-level="2.4.1.8" id="service-worker-handle-a-fetch"><span class="secno">2.4.1.8. </span><span class="content">Service Worker: Handle a Fetch</span><a class="self-link" href="#service-worker-handle-a-fetch"></a></h5>
      <p class="issue" id="issue-7ac73c88"><a class="self-link" href="#issue-7ac73c88"></a> Figure out the right way to monkey-patch Service Worker’s <a href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#handle-a-fetch">Handle a Fetch</a> algorithm to do the right thing with opaque requests.</p>
    </ol>
   </section>
   <section>
    <h2 class="heading settled" data-level="3" id="security-considerations"><span class="secno">3. </span><span class="content">Security and Privacy Considerations</span><a class="self-link" href="#security-considerations"></a></h2>
    <h3 class="heading settled" data-level="3.1" id="renderer-sandboxing"><span class="secno">3.1. </span><span class="content">Sandboxing autofilled credential access</span><a class="self-link" href="#renderer-sandboxing"></a></h3>
    <p><em>This section is non-normative.</em></p>
    <p>Some user agents are implemented in such a way as to render websites via
  low-privilege processes that don’t have direct access to the network. Network
  requests are mediated by a more privileged parent process, which can protect
  against a number of threats which arise if a clever attacker can exploit bugs
  in the user agent to corrupt the website’s process.</p>
    <p>Even if we prevent DOM-level access to input fields, the form field is somehow
  represented in memory that’s accessible to that child process. It is quite
  conceivable that an attacker could exploit browser bugs which corrupt the
  child process in such a way as to expose a user’s credentials.</p>
    <p>Marking fields as write-only might mitigate this risk in the case of
  autofilled credentials. Since the webpage does not need access to a user’s
  actual password, the parent process can generate a nonce when autofilling
  credentials, and ask the child process to fill the password field with that
  value instead of the actual password. Then, when the child process asks the
  parent process to POST a form, the parent process can replace occurrences of
  the nonce in the POST’s body with the actual password for a given credential.</p>
    <p>This approach means that the actual credentials are never provided to the
  high-risk child process, which means that an attacker would have to break
  out of the child’s sandbox in order to steal credentials.</p>
    <p>A more rigorous examination of this approach is undertaken in "Protecting
  Users Against XSS-based Password Manager Abuse" <a data-link-type="biblio" href="#biblio-stock">[STOCK]</a>. Their use of a
  browser extension is instructive: there’s no reason that this scheme couldn’t
  be implemented by a third-party credential manager, as long as it has access
  to the data POSTed from one page to another.</p>
   </section>
   <section>
    <h2 class="heading settled" data-level="4" id="authoring-considerations"><span class="secno">4. </span><span class="content">Authoring Considerations</span><a class="self-link" href="#authoring-considerations"></a></h2>
    <p><em>This section is non-normative.</em></p>
    <p>In order to mitigate the risk of content injection attacks which steal user
  credentials, we recommend that authors:</p>
    <ol>
     <li data-md="">
      <p>Set a Content Security Policy <a data-link-type="biblio" href="#biblio-csp3">[CSP3]</a> on every page of their sites (including error pages,
  etc.), and ensure that the policy contains both <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#form-action"><code>form-action</code></a> and <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#connect-src"><code>connect-src</code></a>,
  as well as <a data-link-type="dfn" href="#form-writeonly" id="ref-for-form-writeonly-3"><code>form-writeonly</code></a> directives. The first will protect against autofilled form
  submissions which exfiltrate data to an attacker’s origin, the second against XHR-based
  submissions, and the last against DOM-level content injection attacks.</p>
     <li data-md="">
      <p>Always place sign-in forms on TLS-protected pages, and always submit such forms to
  TLS-protected endpoints. If credentials are sent in the clear, they are trivially vulnerable
  to theft.</p>
    </ol>
   </section>
   <section>
    <h2 class="heading settled" data-level="5" id="ack"><span class="secno">5. </span><span class="content">Acknowledgements</span><a class="self-link" href="#ack"></a></h2>
    <p>This proposal is heavily inspired by Jacob S Hoffman-Andrews' <a href="http://lists.w3.org/Archives/Public/public-webapps/2014JulSep/0145.html">comments
  on public-webapps@</a>, as well as Brian Smith’s <a href="http://lists.w3.org/Archives/Public/public-webapps/2014JulSep/0149.html">response</a>.
  Anne van Kesteren helped immensely with the Fetch integration.</p>
   </section>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-ae2b6bc0"><a class="self-link" href="#example-ae2b6bc0"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#autocomplete-token">autocomplete-token</a><span>, in §2.2</span>
   <li><a href="#document-forced-write-only-types">forced write-only types</a><span>, in §2.2</span>
   <li><a href="#form-writeonly">form-writeonly</a><span>, in §2.2</span>
   <li><a href="#formdata-opaque-flag">opaque flag</a><span>, in §2.4</span>
   <li><a href="#opaque-request-flag">opaque request flag</a><span>, in §2.4.1.4</span>
   <li>
    writeonly
    <ul>
     <li><a href="#element-attrdef-form-writeonly">element-attr for form</a><span>, in §2.1</span>
     <li><a href="#element-attrdef-input-writeonly">element-attr for input</a><span>, in §2.1</span>
     <li><a href="#element-attrdef-select-writeonly">element-attr for select</a><span>, in §2.1</span>
     <li><a href="#element-attrdef-textarea-writeonly">element-attr for textarea</a><span>, in §2.1</span>
     <li><a href="#dom-htmlformelement-writeonly">attribute for HTMLFormElement</a><span>, in §2.1.1.1</span>
     <li><a href="#dom-htmlinputelement-writeonly">attribute for HTMLInputElement</a><span>, in §2.1.1.2</span>
     <li><a href="#dom-htmlselectelement-writeonly">attribute for HTMLSelectElement</a><span>, in §2.1.1.3</span>
     <li><a href="#dom-htmltextareaelement-writeonly">attribute for HTMLTextareaElement</a><span>, in §2.1.1.4</span>
    </ul>
   <li><a href="#write-only-value-flag">write-only value flag</a><span>, in §2.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSP3]</a> defines the following terms:
    <ul>
     <li><a href="https://w3c.github.io/webappsec-csp/#connect-src">connect-src</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#directives">directives</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#policy-disposition">disposition</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#form-action">form-action</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#directive-initialization">initialization</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#violation-policy">policy</a>
     <li><a href="https://w3c.github.io/webappsec-csp/#directive-value">value</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WHATWG-DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#concept-reflect">reflect</a>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><a href="https://fetch.spec.whatwg.org/#concept-bodyinit-extract">extract</a>
     <li><a href="https://fetch.spec.whatwg.org/#concept-response">response</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#document">Document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#htmlformelement">HTMLFormElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#htmlinputelement">HTMLInputElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#htmlselectelement">HTMLSelectElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#dom-form-autocomplete">autocomplete <small>(for HTMLFormElement)</small></a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#attr-form-autocomplete">autocomplete <small>(for form)</small></a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#barred-from-constraint-validation">barred the element from constraint validation</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attribute">boolean attributes</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#form-associated-element">form-associated elements</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-value">value</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasdate">valueAsDate</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#dom-input-valueasnumber">valueAsNumber</a>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><a href="https://infra.spec.whatwg.org/#list-contain">contain</a>
    </ul>
   <li>
    <a data-link-type="biblio">[service-workers-1]</a> defines the following terms:
    <ul>
     <li><a href="https://w3c.github.io/ServiceWorker/#dfn-service-worker-global-object">global object</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#idl-boolean">boolean</a>
    </ul>
   <li>
    <a data-link-type="biblio">[XHR]</a> defines the following terms:
    <ul>
     <li><a href="https://xhr.spec.whatwg.org/#formdata">FormData</a>
     <li><a href="https://xhr.spec.whatwg.org/#xmlhttprequest">XMLHttpRequest</a>
     <li><a href="https://xhr.spec.whatwg.org/#dom-xmlhttprequest-send">send()</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-abnf">[ABNF]
   <dd>D. Crocker, Ed.; P. Overell. <a href="https://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>. January 2008. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc5234">https://tools.ietf.org/html/rfc5234</a>
   <dt id="biblio-csp3">[CSP3]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-csp/">Content Security Policy Level 3</a>. URL: <a href="https://w3c.github.io/webappsec-csp/">https://w3c.github.io/webappsec-csp/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/">Fetch Standard</a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/">Infra Standard</a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-service-workers-1">[SERVICE-WORKERS-1]
   <dd>Alex Russell; et al. <a href="https://w3c.github.io/ServiceWorker/">Service Workers 1</a>. URL: <a href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-whatwg-dom">[WHATWG-DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-xhr">[XHR]
   <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/">XMLHttpRequest Standard</a>. Living Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-lupin">[LUPIN]
   <dd>Raul Gonzalez; Eric Y. Chen; Collin Jackson. <a href="http://arxiv.org/pdf/1309.1416.pdf">Automated Password Extraction Attack on Modern Password Managers</a>. URL: <a href="http://arxiv.org/pdf/1309.1416.pdf">http://arxiv.org/pdf/1309.1416.pdf</a>
   <dt id="biblio-stock">[STOCK]
   <dd>Ben Stock; Martin Johns. <a href="https://www.ben-stock.de/wp-content/uploads/asiacss2014.pdf">Protecting Users Against XSS-based Password Manager Abuse</a>. URL: <a href="https://www.ben-stock.de/wp-content/uploads/asiacss2014.pdf">https://www.ben-stock.de/wp-content/uploads/asiacss2014.pdf</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl def"><span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlformelement">HTMLFormElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlformelement-writeonly">writeonly</a>;
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlinputelement">HTMLInputElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlinputelement-writeonly">writeonly</a>;
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/forms.html#htmlselectelement">HTMLSelectElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmlselectelement-writeonly">writeonly</a>;
};

<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface">HTMLTextareaElement</a> {
    <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv idl-code" data-link-type="attribute" data-type="boolean" href="#dom-htmltextareaelement-writeonly">writeonly</a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Expand this to include <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-form-element">form</a></code>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a></code>, and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a></code>.<a href="#issue-f871e681"> ↵ </a></div>
   <div class="issue"> Is this more or less exhaustive? I’m sure I’m missing some clever ways
  of reading the value.<a href="#issue-eedb26e3"> ↵ </a></div>
   <div class="issue"> Or <code>fetch()</code>, presumably? Wonder what I was thinking here...<a href="#issue-0fde8294"> ↵ </a></div>
   <div class="issue"> Monkey-patching! Hooray! Though, of course, that’s pretty much this
  whole strawman...<a href="#issue-f5b10335"> ↵ </a></div>
   <div class="issue"> Figure out the right way to monkey-patch Service Worker’s <a href="https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#handle-a-fetch">Handle a Fetch</a> algorithm to do the right thing with opaque requests.<a href="#issue-7ac73c88"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="element-attrdef-form-writeonly">
   <b><a href="#element-attrdef-form-writeonly">#element-attrdef-form-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-attrdef-form-writeonly-1">2.1.1.1. HTMLFormElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="element-attrdef-input-writeonly">
   <b><a href="#element-attrdef-input-writeonly">#element-attrdef-input-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-attrdef-input-writeonly-1">1.1.1. Sign-in Form</a>
    <li><a href="#ref-for-element-attrdef-input-writeonly-2">2. Preventing DOM access to form fields</a>
    <li><a href="#ref-for-element-attrdef-input-writeonly-3">2.1.1.2. HTMLInputElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="element-attrdef-select-writeonly">
   <b><a href="#element-attrdef-select-writeonly">#element-attrdef-select-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-attrdef-select-writeonly-1">2.1.1.3. HTMLSelectElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="element-attrdef-textarea-writeonly">
   <b><a href="#element-attrdef-textarea-writeonly">#element-attrdef-textarea-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-attrdef-textarea-writeonly-1">2.1.1.4. HTMLTextareaElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="write-only-value-flag">
   <b><a href="#write-only-value-flag">#write-only-value-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-write-only-value-flag-1">2.1. The writeonly attribute</a> <a href="#ref-for-write-only-value-flag-2">(2)</a> <a href="#ref-for-write-only-value-flag-3">(3)</a>
    <li><a href="#ref-for-write-only-value-flag-4">2.3. &amp;lt;input&amp;gt; element behavior</a> <a href="#ref-for-write-only-value-flag-5">(2)</a>
    <li><a href="#ref-for-write-only-value-flag-6">2.4. Opaque FormData objects</a>
    <li><a href="#ref-for-write-only-value-flag-7">2.4.1.1. XHR: FormData constructor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-htmlformelement-writeonly">
   <b><a href="#dom-htmlformelement-writeonly">#dom-htmlformelement-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-htmlformelement-writeonly-1">2.1.1.1. HTMLFormElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-htmlinputelement-writeonly">
   <b><a href="#dom-htmlinputelement-writeonly">#dom-htmlinputelement-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-htmlinputelement-writeonly-1">2.1.1.2. HTMLInputElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-htmlselectelement-writeonly">
   <b><a href="#dom-htmlselectelement-writeonly">#dom-htmlselectelement-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-htmlselectelement-writeonly-1">2.1.1.3. HTMLSelectElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-htmltextareaelement-writeonly">
   <b><a href="#dom-htmltextareaelement-writeonly">#dom-htmltextareaelement-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-htmltextareaelement-writeonly-1">2.1.1.4. HTMLTextareaElement</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="form-writeonly">
   <b><a href="#form-writeonly">#form-writeonly</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-form-writeonly-1">1.1.2. Content Security Policy</a>
    <li><a href="#ref-for-form-writeonly-2">2. Preventing DOM access to form fields</a>
    <li><a href="#ref-for-form-writeonly-3">4. Authoring Considerations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="autocomplete-token">
   <b><a href="#autocomplete-token">#autocomplete-token</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-autocomplete-token-1">2.2. The form-writeonly Content Security Policy directive</a> <a href="#ref-for-autocomplete-token-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="document-forced-write-only-types">
   <b><a href="#document-forced-write-only-types">#document-forced-write-only-types</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-document-forced-write-only-types-1">2.2. The form-writeonly Content Security Policy directive</a> <a href="#ref-for-document-forced-write-only-types-2">(2)</a>
    <li><a href="#ref-for-document-forced-write-only-types-3">2.3. &amp;lt;input&amp;gt; element behavior</a> <a href="#ref-for-document-forced-write-only-types-4">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="formdata-opaque-flag">
   <b><a href="#formdata-opaque-flag">#formdata-opaque-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-formdata-opaque-flag-1">2.4.1.1. XHR: FormData constructor</a> <a href="#ref-for-formdata-opaque-flag-2">(2)</a>
    <li><a href="#ref-for-formdata-opaque-flag-3">2.4.1.2. XHR: FormData’s get()</a>
    <li><a href="#ref-for-formdata-opaque-flag-4">2.4.1.3. XHR: FormData’s getAll()</a>
    <li><a href="#ref-for-formdata-opaque-flag-5">2.4.1.5. Fetch: Request’s constructor</a>
    <li><a href="#ref-for-formdata-opaque-flag-6">2.4.1.7. Fetch: Extract a byte stream</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="opaque-request-flag">
   <b><a href="#opaque-request-flag">#opaque-request-flag</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-opaque-request-flag-1">2.4.1.6. Fetch: Body’s consume body</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>